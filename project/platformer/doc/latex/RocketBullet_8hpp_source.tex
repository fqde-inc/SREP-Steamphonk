\hypertarget{RocketBullet_8hpp_source}{}\doxysection{Rocket\+Bullet.\+hpp}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{//}}
\DoxyCodeLine{2 \textcolor{comment}{// Created by Giorgio Perri  on 31/10/22.}}
\DoxyCodeLine{3 \textcolor{comment}{//}}
\DoxyCodeLine{4 }
\DoxyCodeLine{5 \textcolor{preprocessor}{\#include <Box2D/Box2D.h>}}
\DoxyCodeLine{6 \textcolor{preprocessor}{\#include "{}Bullet.hpp"{}}}
\DoxyCodeLine{7 }
\DoxyCodeLine{8 \textcolor{keyword}{class }\mbox{\hyperlink{classRocketBullet}{RocketBullet}} : \textcolor{keyword}{public} \mbox{\hyperlink{classBullet}{Bullet}} \{}
\DoxyCodeLine{9 \textcolor{keyword}{public}:}
\DoxyCodeLine{10 }
\DoxyCodeLine{11     \textcolor{keywordtype}{float} explosionRadius   = 8.0f;}
\DoxyCodeLine{12     \textcolor{keywordtype}{float} explosionDamage   = 2.0f;}
\DoxyCodeLine{13     \textcolor{keywordtype}{float} explosionForce    = 10.0f;}
\DoxyCodeLine{14     \textcolor{keywordtype}{float} steer\_force = 15.0f;}
\DoxyCodeLine{15 }
\DoxyCodeLine{16     \textcolor{comment}{// Intangibility timer}}
\DoxyCodeLine{17     \textcolor{comment}{// TODO ?}}
\DoxyCodeLine{18     \textcolor{keywordtype}{float} gracePeriod = .1f;}
\DoxyCodeLine{19     std::shared\_ptr<TimerComponent> graceTimer;}
\DoxyCodeLine{20 }
\DoxyCodeLine{21     \mbox{\hyperlink{classRocketBullet}{RocketBullet}}(\mbox{\hyperlink{classGameObject}{GameObject}}* gameObject);    }
\DoxyCodeLine{22     }
\DoxyCodeLine{23     \textcolor{comment}{// raycast callback}}
\DoxyCodeLine{24     \textcolor{keyword}{virtual} float32 ReportFixture(  b2Fixture* fixture, \textcolor{keyword}{const} b2Vec2\& point,}
\DoxyCodeLine{25                                       \textcolor{keyword}{const} b2Vec2\& normal, float32 fraction) \textcolor{keyword}{override};}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{keywordtype}{void} onCollisionStart(\mbox{\hyperlink{classPhysicsComponent}{PhysicsComponent}} *comp) \textcolor{keyword}{override};}
\DoxyCodeLine{28     \textcolor{keywordtype}{void} onCollisionEnd(\mbox{\hyperlink{classPhysicsComponent}{PhysicsComponent}} *comp) \textcolor{keyword}{override};}
\DoxyCodeLine{29     \textcolor{keywordtype}{void} explode();}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keywordtype}{void} update(\textcolor{keywordtype}{float} deltaTime) \textcolor{keyword}{override}; }
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{comment}{// \{}}
\DoxyCodeLine{34     \textcolor{comment}{//     acceleration = SeekTarget();}}
\DoxyCodeLine{35     \textcolor{comment}{//     velocity += acceleration * deltaTime;}}
\DoxyCodeLine{36     \textcolor{comment}{//     velocity = velocity.clamped(speed)}}
\DoxyCodeLine{37     \textcolor{comment}{//     rotation = velocity.angle()}}
\DoxyCodeLine{38     \textcolor{comment}{//     position += velocity * delta * 100}}
\DoxyCodeLine{39     \textcolor{comment}{// \}}}
\DoxyCodeLine{40 }
\DoxyCodeLine{41     \textcolor{comment}{// void SeekTarget() \{}}
\DoxyCodeLine{42     \textcolor{comment}{//     if target:}}
\DoxyCodeLine{43     \textcolor{comment}{//         auto desired = (target.position -\/ position).normalized() * speed}}
\DoxyCodeLine{44     \textcolor{comment}{//         steer = (desired -\/ velocity).normalized() * steer\_force}}
\DoxyCodeLine{45     \textcolor{comment}{// \}}}
\DoxyCodeLine{46 \};}
\DoxyCodeLine{47 }
\DoxyCodeLine{48 \textcolor{comment}{//subclass b2QueryCallback}}
\DoxyCodeLine{49 \textcolor{comment}{// class MyQueryCallback : public b2QueryCallback \{}}
\DoxyCodeLine{50 \textcolor{comment}{// public:}}
\DoxyCodeLine{51 \textcolor{comment}{//     std::vector<b2Body*> foundBodies;}}
\DoxyCodeLine{52     }
\DoxyCodeLine{53 \textcolor{comment}{//     bool ReportFixture(b2Fixture* fixture) \{}}
\DoxyCodeLine{54 \textcolor{comment}{//         foundBodies.push\_back( fixture-\/>GetBody() ); }}
\DoxyCodeLine{55 \textcolor{comment}{//         return true;//keep going to find all fixtures in the query area}}
\DoxyCodeLine{56 \textcolor{comment}{//     \}}}
\DoxyCodeLine{57 \textcolor{comment}{// \};}}

\end{DoxyCode}
