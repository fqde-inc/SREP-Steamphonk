\hypertarget{GameObject_8hpp_source}{}\doxysection{Game\+Object.\+hpp}
\label{GameObject_8hpp_source}\index{Steamphonk/GameObject.hpp@{Steamphonk/GameObject.hpp}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{preprocessor}{\#include <memory>}}
\DoxyCodeLine{2 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{3 \textcolor{preprocessor}{\#include "{}glm/glm.hpp"{}}}
\DoxyCodeLine{4 \textcolor{preprocessor}{\#include "{}sre/SpriteBatch.hpp"{}}}
\DoxyCodeLine{5 \textcolor{preprocessor}{\#pragma once}}
\DoxyCodeLine{6 }
\DoxyCodeLine{7 \textcolor{comment}{// Forward declaration}}
\DoxyCodeLine{8 \textcolor{keyword}{class }\mbox{\hyperlink{classComponent}{Component}};}
\DoxyCodeLine{9 }
\DoxyCodeLine{10 \textcolor{comment}{// GameObject are empty container objects, which contains Components}}
\DoxyCodeLine{11 \textcolor{keyword}{class }\mbox{\hyperlink{classGameObject}{GameObject}} \{}
\DoxyCodeLine{12 \textcolor{keyword}{public}:}
\DoxyCodeLine{13 }
\DoxyCodeLine{14     \mbox{\hyperlink{classGameObject}{\string~GameObject}}();}
\DoxyCodeLine{15 }
\DoxyCodeLine{16     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>                                   \textcolor{comment}{// Add component of a given type to a gameObject. example:}}
\DoxyCodeLine{17     std::shared\_ptr<T> addComponent();                   \textcolor{comment}{// std::shared\_ptr<SpriteComponent> spriteComponent = gameObject-\/>addComponent<SpriteComponent>();}}
\DoxyCodeLine{18 }
\DoxyCodeLine{19     \textcolor{keyword}{template} <\textcolor{keyword}{class} T>                                   \textcolor{comment}{//  Get component of a given type to a gameObject. If not found return empty shared\_ptr (==nullptr). example:}}
\DoxyCodeLine{20     std::shared\_ptr<T> getComponent();                   \textcolor{comment}{// std::shared\_ptr<SpriteComponent> spriteComponent = gameObject-\/>getComponent<SpriteComponent>();}}
\DoxyCodeLine{21 }
\DoxyCodeLine{22     \textcolor{keywordtype}{bool} removeComponent(std::shared\_ptr<Component> component);}
\DoxyCodeLine{23 }
\DoxyCodeLine{24     \textcolor{keywordtype}{void} renderSprite(sre::SpriteBatch::SpriteBatchBuilder\& spriteBatchBuilder);}
\DoxyCodeLine{25     \textcolor{keywordtype}{void} update(\textcolor{keywordtype}{float} deltaTime);}
\DoxyCodeLine{26 }
\DoxyCodeLine{27     \textcolor{keyword}{const} glm::vec2 \&getPosition() \textcolor{keyword}{const};}
\DoxyCodeLine{28 }
\DoxyCodeLine{29     \textcolor{keywordtype}{void} setPosition(\textcolor{keyword}{const} glm::vec2 \&position);}
\DoxyCodeLine{30 }
\DoxyCodeLine{31     \textcolor{keywordtype}{float} getRotation() \textcolor{keyword}{const};}
\DoxyCodeLine{32 }
\DoxyCodeLine{33     \textcolor{keywordtype}{void} setRotation(\textcolor{keywordtype}{float} rotation);}
\DoxyCodeLine{34 }
\DoxyCodeLine{35     \textcolor{keywordtype}{void} setConsumed(\textcolor{keywordtype}{bool} \_consumed)\{consumed = \_consumed;\};}
\DoxyCodeLine{36 }
\DoxyCodeLine{37     \textcolor{keyword}{const} std::vector<std::shared\_ptr<Component>>\& getComponents();}
\DoxyCodeLine{38 }
\DoxyCodeLine{39     std::string name = \textcolor{stringliteral}{"{}\_"{}};}
\DoxyCodeLine{40     }
\DoxyCodeLine{41 \textcolor{keyword}{private}:}
\DoxyCodeLine{42     \mbox{\hyperlink{classGameObject}{GameObject}}() = \textcolor{keywordflow}{default};}
\DoxyCodeLine{43     std::vector<std::shared\_ptr<Component>> components;}
\DoxyCodeLine{44 }
\DoxyCodeLine{45     glm::vec2 position;}
\DoxyCodeLine{46     \textcolor{keywordtype}{float} rotation;}
\DoxyCodeLine{47 }
\DoxyCodeLine{48     \textcolor{keywordtype}{bool} consumed = \textcolor{keyword}{false};}
\DoxyCodeLine{49 }
\DoxyCodeLine{50     \textcolor{keyword}{friend} \textcolor{keyword}{class }\mbox{\hyperlink{classPlatformerGame}{PlatformerGame}};}
\DoxyCodeLine{51 \};}
\DoxyCodeLine{52 }
\DoxyCodeLine{53 \textcolor{comment}{// definition of the template member function addComponent}}
\DoxyCodeLine{54 \textcolor{comment}{// Usage:}}
\DoxyCodeLine{55 \textcolor{comment}{// GameObject* go = something;}}
\DoxyCodeLine{56 \textcolor{comment}{// shared\_ptr<SpriteComponent> sc = go-\/>addComponent<SpriteComponent>();}}
\DoxyCodeLine{57 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{58 \textcolor{keyword}{inline} std::shared\_ptr<T> GameObject::addComponent()\{}
\DoxyCodeLine{59     \textcolor{keyword}{auto} obj = std::shared\_ptr<T>(\textcolor{keyword}{new} T(\textcolor{keyword}{this}));}
\DoxyCodeLine{60     components.push\_back(obj);}
\DoxyCodeLine{61 }
\DoxyCodeLine{62     \textcolor{keywordflow}{return} obj;}
\DoxyCodeLine{63 \}}
\DoxyCodeLine{64 }
\DoxyCodeLine{65 \textcolor{comment}{// definition of the template member function addComponent}}
\DoxyCodeLine{66 \textcolor{comment}{// Usage:}}
\DoxyCodeLine{67 \textcolor{comment}{// GameObject* go = something;}}
\DoxyCodeLine{68 \textcolor{comment}{// shared\_ptr<SpriteComponent> sc = go-\/>addComponent<SpriteComponent>();}}
\DoxyCodeLine{69 \textcolor{keyword}{template} <\textcolor{keyword}{class} T>}
\DoxyCodeLine{70 \textcolor{keyword}{inline} std::shared\_ptr<T> GameObject::getComponent()\{}
\DoxyCodeLine{71     \textcolor{keywordflow}{for} (\textcolor{keyword}{auto} c : components)\{}
\DoxyCodeLine{72         std::shared\_ptr<T> res = std::dynamic\_pointer\_cast<T>(c);}
\DoxyCodeLine{73         \textcolor{keywordflow}{if} (res != \textcolor{keyword}{nullptr})\{}
\DoxyCodeLine{74             \textcolor{keywordflow}{return} res;}
\DoxyCodeLine{75         \}}
\DoxyCodeLine{76     \}}
\DoxyCodeLine{77     \textcolor{keywordflow}{return} std::shared\_ptr<T>();}
\DoxyCodeLine{78 \}}

\end{DoxyCode}
